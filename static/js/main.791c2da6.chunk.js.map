{"version":3,"sources":["components/common/PopUp.module.css","components/screens/main.module.css","utils/utils.js","api/API.js","data/DataContext.js","utils/useEscape.js","assets/preloader.svg","components/common/PopUp.js","components/WeekView/WeekView.js","components/screens/Main.js","App.js","reportWebVitals.js","index.js","components/WeekView/week.module.css"],"names":["module","exports","Enum","length","Array","map","_","i","rub","value","axios","_axios","create","baseURL","withCredentials","fetchData","user","get","then","r","data","setData","put","post","DAY","WEEK","MONTH","YEAR","ALL","INCOME","SPENT","PROFIT","FORMAT","getDays","date","interval","unitOfTime","_date","moment","_Start","clone","startOf","_End","endOf","days","day","push","format","add","contextShape","getTotal","addTransaction","getHistory","getDaysOfRange","isFetching","DataContext","React","createContext","useEscape","className","callback","onOuterClick","e","target","document","querySelector","onEscape","keyCode","containerRef","useRef","useEffect","el","current","addEventListener","removeEventListener","PopUp","onClose","props","useState","unmounting","setUnmounting","s","wrapper","setTimeout","fadeIn","useSpring","config","duration","opacity","Number","from","slideUp","marginBottom","div","style","ref","children","DayDetails","isAddModalShown","setAddModalShown","useContext","styles","dayDetailsWrapper","dayDetailsTitle","fixedMode","zIndex","buttonArea","addButton","onClick","WeekDay","weekday","profit","isLast","fulldate","weekDayWrapper","border","weekDayName","color","weekDayDate","weekDayProfit","undefined","WeekView","dayDetails","setDayDetails","weekViewWrapper","index","Loading","loading","src","preloader","width","height","Footer","container","animBackdrop","setModalShown","isModalShown","popup","bottom","backdrop","pointerEvents","button","animWrapper","footer","v","Header","header","title","AddCard","input","setValue","cardWrapper","inputArea","focus","type","autoFocus","pattern","inputMode","placeholder","toString","onChange","p","onFocus","onBlur","buttons","income","parseFloat","spent","Main","fetch","mainGrid","Button","MonthOverview","mode","setMode","earned","values","setValues","console","log","modeSelector","backgroundColor","monthWrapper","monthItem","monthIncome","monthLabel","monthAmount","monthSpent","monthProfit","DayView","deleteTransaction","history","setHistory","noData","dayViewArea","dayView","amount","comment","id","onDelete","HistoryItem","itemWrapper","borderBottom","itemValue","itemButtons","itemComment","App","userData","setDays","setFetching","a","newDays","pushDays","_transaction","filter","isNewUser","payload","localStorage","getItem","_user","res","Object","keys","reduce","accum","currentKey","resp","name","setItem","useDataContext","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.791c2da6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"PopUp_wrapper__2HU00\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"main_wrapper__-8n4U\",\"loading\":\"main_loading__3uRqN\",\"mainGrid\":\"main_mainGrid__nl8MA\",\"header\":\"main_header__2mcmx\",\"footer\":\"main_footer__2i-vV\",\"title\":\"main_title__12jnD\",\"section\":\"main_section__p5kGc\",\"cardWrapper\":\"main_cardWrapper__3aawm\",\"animWrapper\":\"main_animWrapper__3j1Vd\",\"animBackdrop\":\"main_animBackdrop__18dN9\",\"inputArea\":\"main_inputArea__YfEHI\",\"input\":\"main_input__3QIpX\",\"buttons\":\"main_buttons__1Wd-5\",\"button\":\"main_button__2EjwP\",\"spent\":\"main_spent__1UrWt\",\"income\":\"main_income__sUZZJ\",\"monthWrapper\":\"main_monthWrapper__TcULD\",\"monthItem\":\"main_monthItem__1oBNi\",\"monthSpent\":\"main_monthSpent__1K_Qr\",\"monthIncome\":\"main_monthIncome__3208A\",\"monthProfit\":\"main_monthProfit__xffan\",\"monthAmount\":\"main_monthAmount__3jZa6\",\"monthLabel\":\"main_monthLabel__1O9B3\",\"monthTitle\":\"main_monthTitle__1fTeO\",\"modeSelector\":\"main_modeSelector__3hY4y\",\"mode\":\"main_mode__3o9f-\",\"itemWrapper\":\"main_itemWrapper__25RpC\",\"itemButtons\":\"main_itemButtons__282Sx\",\"itemValue\":\"main_itemValue__zgIpG\",\"itemComment\":\"main_itemComment__ZoEYt\",\"dayView\":\"main_dayView__1k4tz\",\"dayViewArea\":\"main_dayViewArea__3h_Im\",\"noData\":\"main_noData__2FLKD\",\"historyTitle\":\"main_historyTitle__A9SoH\"};","export const Enum = (length) => [...Array(length)].map((_, i) => i);\r\n\r\nexport function polymorph() {\r\n    var len2func = [];\r\n    for(var i=0; i<arguments.length; i++)\r\n        if(typeof(arguments[i]) == \"function\")\r\n            len2func[arguments[i].length] = arguments[i];\r\n    return function() {\r\n        return len2func[arguments.length].apply(this, arguments);\r\n    }\r\n}\r\n\r\nexport const rub = (value) => `${value} ₽`\r\n","import _axios from \"axios\";\r\nconst axios = _axios.create({\r\n    baseURL: \"https://smart-money-c44ee-default-rtdb.firebaseio.com/\",\r\n    withCredentials: false\r\n})\r\n\r\nexport const fetchData = (user) => axios.get(`/db/${user}.json`).then(r=>r.data)\r\n\r\nexport const setData = (user, data) => {\r\n    if (user) {\r\n        return axios.put(`/db/${user}.json`, data).then(r=>r.data)\r\n    } else {\r\n        return axios.post('db.json', data).then(r=>r.data)\r\n    }\r\n}\r\n","import React, {useState} from 'react'\r\nimport {Enum} from \"../utils/utils\";\r\nimport moment from \"moment\";\r\nimport {fetchData, setData} from \"../api/API\";\r\n\r\nexport const [DAY, WEEK, MONTH, YEAR, ALL] = Enum(5)\r\nexport const [INCOME, SPENT, PROFIT] = Enum(3)\r\n\r\nexport const FORMAT = \"DD-MM-YYYY\"\r\n\r\n\r\nconst getDays = (date, interval = DAY) => { //date: \"DD-MM-YYY\"\r\n    let unitOfTime = \"day\"\r\n    switch (interval) {\r\n        case DAY:\r\n            unitOfTime = \"day\"\r\n            break\r\n        case WEEK:\r\n            unitOfTime = \"isoWeek\"\r\n            break\r\n        case MONTH:\r\n            unitOfTime = \"month\"\r\n            break\r\n        case YEAR:\r\n            unitOfTime = \"year\"\r\n            break\r\n    }\r\n    const _date = moment(date, FORMAT)\r\n    const _Start = _date.clone().startOf(unitOfTime)\r\n    const _End = _date.clone().endOf(unitOfTime)\r\n\r\n    let days = [];\r\n    let day = _Start;\r\n\r\n    while (day <= _End) {\r\n        days.push(moment(day, FORMAT).format(FORMAT));\r\n        day = day.clone().add(1, 'd');\r\n    }\r\n    return days // [\"DD-MM-YYYY\"]\r\n}\r\nconst contextShape = {\r\n    days: {},\r\n    getTotal: (interval = ALL, type = INCOME, date = '01-01-2021')=>0,\r\n    addTransaction: (type = INCOME, amount = 0, comment = '', day = '01-01-2021')=>{},\r\n    getHistory: (day = '01-01-2021') => [],\r\n    getDaysOfRange: (day = moment().format(FORMAT), range = WEEK) => [],\r\n    isFetching: false,\r\n}\r\nexport const DataContext = React.createContext(contextShape)\r\n\r\n/*export const useDataContext = () => {\r\n\r\n    const [userData, setUserData] = useState(contextShape)\r\n\r\n    useEffect(()=>{\r\n        setUserData(new User(contextShape.days))\r\n    },[])\r\n    debugger\r\n\r\n\r\n    return userData\r\n}*/\r\n\r\nexport const useDataContext = () => {\r\n    const [days, setDays] = useState({})\r\n    const [isFetching, setFetching] = useState(false)\r\n\r\n    const getTotal = (interval = ALL, type = INCOME, date = '01-01-2021') => {\r\n        const possibleDays = interval === ALL ? Object.keys(days) : getDays(date, interval)\r\n        return possibleDays.reduce((accum, currentKey) => {\r\n            if (days?.[currentKey]) {\r\n                const day = days[currentKey]\r\n                switch (type) {\r\n                    case INCOME:\r\n                        return accum + (day.income || 0)\r\n                    case SPENT:\r\n                        return accum + (day.spent || 0)\r\n                    case PROFIT:\r\n                        return accum + ((day.income || 0) - (day.spent || 0))\r\n                }\r\n            } else\r\n                return accum\r\n        }, 0)\r\n    }\r\n    const getDaysOfRange = (date=moment().format(FORMAT), range=WEEK) => getDays(date, range)\r\n    const addTransaction = async (type = INCOME, amount = 0, comment = '', day=moment().format(FORMAT))=>{\r\n        const newDays = {\r\n            ...days,\r\n            [day]: {\r\n                ...days?.[day],\r\n                income: (days?.[day]?.income || 0) + amount*Number(type === INCOME),\r\n                spent:  (days?.[day]?.spent || 0) + amount*Number(type === SPENT),\r\n                history: [\r\n                    ...(days?.[day]?.history || []),\r\n                    {\r\n                        type: type,\r\n                        amount: amount,\r\n                        comment: comment\r\n                    },\r\n                ],\r\n            },\r\n        }\r\n        setDays(newDays)\r\n        return await pushDays(false, newDays)\r\n    }\r\n\r\n    const getHistory = (day) => {\r\n        return days[day]?.history || []\r\n    }\r\n\r\n    const deleteTransaction = async (day=moment().format(FORMAT), index=-1) => {\r\n        const _transaction = days?.[day]?.history?.[index] || {amount: 0, type: INCOME}\r\n\r\n        const newDays = {\r\n            ...days,\r\n            [day]: {\r\n                ...days?.[day],\r\n                income: days?.[day]?.income - (_transaction.amount * Number(_transaction.type === INCOME)),\r\n                spent: days?.[day]?.spent - (_transaction.amount * Number(_transaction.type === SPENT)),\r\n                history: [\r\n                    ...(days?.[day]?.history || []).filter((_,i)=> i !== index),\r\n                ]\r\n            }\r\n        }\r\n        setDays(newDays)\r\n        return await pushDays(false, newDays)\r\n    }\r\n\r\n    const pushDays = async (isNewUser=false, payload) => {\r\n        setFetching(true)\r\n        const user = localStorage.getItem('userId')\r\n        const _user = isNewUser ? false : (user || false)\r\n            const res =  await setData(_user, payload || days)\r\n        setFetching(false)\r\n        return res\r\n    }\r\n    const fetch = async () => {\r\n        setFetching(true)\r\n        const user = localStorage.getItem('userId')\r\n        const data = await fetchData(user)\r\n        if (!data) {\r\n           const resp =  await pushDays(true)\r\n            resp?.name && localStorage.setItem('userId', resp.name)\r\n\r\n        }\r\n        else {\r\n            setDays(data)\r\n        }\r\n        setFetching(false)\r\n    }\r\n    return {days, addTransaction, getTotal, deleteTransaction, getHistory, fetch, isFetching, getDaysOfRange}\r\n}\r\n","import {useEffect, useRef} from \"react\";\r\n\r\nconst useEscape = (className, callback) => {\r\n    const onOuterClick = (e) => {\r\n        if (e.target === document.querySelector(`.${className}`)) {\r\n            callback();\r\n        }\r\n    };\r\n\r\n    const onEscape = (e) => {\r\n        if (e.keyCode === 27) callback();\r\n    };\r\n\r\n    const containerRef = useRef(null);\r\n    useEffect(() => {\r\n        if (!containerRef) return;\r\n        const el = containerRef.current;\r\n        el.addEventListener('click', onOuterClick);\r\n        document.addEventListener('keydown', onEscape);\r\n        return () => {\r\n            el.removeEventListener('click', onOuterClick);\r\n            document.removeEventListener('keydown', onEscape);\r\n        }\r\n    }, [containerRef]);\r\n\r\n    return containerRef;\r\n};\r\n\r\nexport default useEscape;\r\n","export default __webpack_public_path__ + \"static/media/preloader.5a0dcb1d.svg\";","import React, {useEffect, useState} from 'react'\r\nimport s from './PopUp.module.css'\r\nimport useEscape from \"../../utils/useEscape\";\r\nimport {animated, useSpring} from 'react-spring'\r\n\r\nconst PopUp = ({onClose=()=>{}, ...props}) => {\r\n\r\n    const [unmounting, setUnmounting] = useState(false)\r\n\r\n    const _onClose = () => {\r\n        setUnmounting(true)\r\n        setTimeout(()=>{\r\n            onClose()\r\n        }, 300)\r\n    }\r\n\r\n    const containerRef = useEscape(s.wrapper, _onClose);\r\n\r\n    const fadeIn = useSpring({config: { duration: 250 }, opacity: Number(!unmounting), from: {opacity: Number(unmounting)}})\r\n    const slideUp = useSpring({config: { duration: 250 }, marginBottom: Number(unmounting) * -100, from: {marginBottom: Number(!unmounting) * -100}})\r\n    return <animated.div style={fadeIn} className={s.wrapper} ref={containerRef}>\r\n        <animated.div style={slideUp}>\r\n            {props.children}\r\n        </animated.div>\r\n    </animated.div>\r\n}\r\n\r\nexport default PopUp\r\n","import moment from \"moment\";\r\nimport {DataContext, DAY, FORMAT, PROFIT, WEEK} from \"../../data/DataContext\";\r\nimport React, {useContext, useState} from \"react\";\r\nimport styles from \"./week.module.css\";\r\nimport {AddCard, DayView, MonthOverview} from \"../screens/Main\";\r\nimport PopUp from \"../common/PopUp\";\r\nimport {rub} from \"../../utils/utils\";\r\n\r\nconst WeekView = ({day = moment().format(FORMAT)}) => {\r\n    const {getDaysOfRange, getTotal} = useContext(DataContext)\r\n    const [dayDetails, setDayDetails] = useState(false)\r\n    const days = getDaysOfRange(day, WEEK)\r\n    return <div className={styles.weekViewWrapper}>\r\n        {dayDetails && <PopUp onClose={()=>setDayDetails(false)}><DayDetails date={dayDetails}/></PopUp>}\r\n        {days.map((date, index)=>{\r\n            return <WeekDay date={moment(date, FORMAT).format('DD')}\r\n                            fulldate={date}\r\n                            weekday={moment(date, FORMAT).format('ddd')}\r\n                            profit={getTotal(DAY, PROFIT, date)}\r\n                            onClick={()=>setDayDetails(date)}\r\n                            isLast={index === days.length-1}\r\n                            key={index}\r\n            />\r\n        })}\r\n    </div>\r\n\r\n}\r\n\r\nconst DayDetails = ({date}) => {\r\n    const [isAddModalShown, setAddModalShown] = useState(false)\r\n    const {getTotal} = useContext(DataContext)\r\n    return <div className={styles.dayDetailsWrapper}>\r\n        <div className={styles.dayDetailsTitle}>{moment(date, FORMAT).format('dddd DD.MM')}</div>\r\n        <MonthOverview fixedMode={DAY} getTotal={getTotal} day={date}/>\r\n    {/*<DayView day={date}/>*/}\r\n        {isAddModalShown && <PopUp zIndex={1100} onClose={()=>setAddModalShown(false)}><AddCard date={date} onClose={()=>setAddModalShown(false)}/></PopUp>}\r\n    <div className={styles.buttonArea}>\r\n        <div className={styles.addButton} onClick={()=>setAddModalShown(true)}>\r\n            <i className={'fas fa-plus'}/><span>Add transaction for this day</span>\r\n        </div>\r\n    </div>\r\n    </div>\r\n    }\r\n\r\nconst WeekDay = ({date, weekday, profit, onClick = () => {}, isLast = false, fulldate}) => {\r\n\r\n    return <div className={styles.weekDayWrapper} style={isLast ? {border: 'none'} : {}} onClick={onClick}>\r\n        <div className={styles.weekDayName} style={fulldate==moment().format(FORMAT) ? {color: '#F07167'} : {}}>{weekday}</div>\r\n        <div className={styles.weekDayDate} style={fulldate==moment().format(FORMAT) ? {color: '#F07167'} : {}}>{date}</div>\r\n        <div className={styles.weekDayProfit} style={{color: profit >= 0 ? '#0081A7' : '#F07167'}}>{profit !== undefined ? ((profit > 0 ? '+' : '') + rub(profit)): ''}</div>\r\n    </div>\r\n}\r\n\r\nexport default WeekView\r\n","import React, {useRef, useState, useEffect, useContext} from 'react'\r\nimport styles from './main.module.css'\r\nimport Div100vh from \"react-div-100vh\";\r\nimport {DAY, WEEK, MONTH, YEAR, PROFIT, INCOME, FORMAT, SPENT} from \"../../data/DataContext\";\r\nimport {rub} from \"../../utils/utils\";\r\nimport {DataContext} from \"../../data/DataContext\";\r\nimport moment from \"moment\";\r\nimport {useSpring, animated} from 'react-spring'\r\nimport useEscape from \"../../utils/useEscape\";\r\nimport preloader from '../../assets/preloader.svg'\r\nimport WeekView from \"../WeekView/WeekView\";\r\n\r\nconst Loading = () => {\r\n    return <div className={styles.loading}><img src={preloader} width={20} height={20}/></div>\r\n}\r\nconst Main = () => {\r\n    const {addTransaction, days, getTotal, fetch, isFetching} = useContext(DataContext)\r\n    useEffect(()=>{\r\n        fetch()\r\n    },[])\r\n\r\n    return <Div100vh className={styles.wrapper}>\r\n        {isFetching && <Loading/>}\r\n        <div className={styles.mainGrid}>\r\n            <Header/>\r\n            <MonthOverview getTotal={getTotal}/>\r\n            <div style={{height: \"60px\"}}/>\r\n            <Footer/>\r\n        </div>\r\n    </Div100vh>\r\n}\r\n\r\nconst Footer = () => {\r\n    const container = useEscape(styles.animBackdrop, ()=>setModalShown(false))\r\n    const [isModalShown, setModalShown] = useState(false)\r\n    const popup = useSpring(isModalShown ? {bottom: 16} : {bottom: -200})\r\n    const backdrop = useSpring(isModalShown ? {opacity: 1, pointerEvents: \"all\"} : {opacity: 0, pointerEvents: \"none\"})\r\n    const button = useSpring(!isModalShown ? {bottom: 0} : {bottom: -60})\r\n    return <>\r\n        <animated.div style={backdrop} className={styles.animBackdrop} ref={container}/>\r\n        <animated.div style={popup} className={styles.animWrapper}>{isModalShown && <AddCard onClose={() => setModalShown(false)}/>}</animated.div>\r\n        <animated.div style={button} className={styles.animWrapper}><div className={styles.footer} onClick={()=>setModalShown(v=>!v)}>\r\n        <i className={'fas fa-plus'}/><span>Add transaction</span>\r\n        </div>\r\n        </animated.div>\r\n    </>\r\n}\r\nconst Header = () => {\r\n    return <div className={styles.header}>\r\n        <div className={styles.title}>\r\n        <b>Money</b>App\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const AddCard = ({onClose=()=>{}, date=moment().format(FORMAT)}) => {\r\n    const input = useRef()\r\n    const [value, setValue] = useState('')\r\n    const {addTransaction} = useContext(DataContext)\r\n\r\n    const onAddEarned = () => {\r\n        if (value != '' && value != 0) {\r\n            addTransaction(INCOME, parseFloat(value.toString()), '', date)\r\n            onClose()\r\n        }\r\n        setValue('')\r\n    }\r\n\r\n    const onAddSpent = () => {\r\n        if (value != '' && value != 0) {\r\n            addTransaction(SPENT, parseFloat(value.toString()), '', date)\r\n            onClose()\r\n        }\r\n        setValue('')\r\n    }\r\n\r\n    const onInputFocus = () => {\r\n        if (input.current)\r\n            input.current.focus()\r\n    }\r\n\r\n    return <div className={styles.cardWrapper}>\r\n        <div className={styles.inputArea} onClick={onInputFocus}>\r\n            <div className={styles.input}>\r\n                <input value={value}\r\n                       type={\"number\"}\r\n                       ref={input}\r\n                       autoFocus={true}\r\n                       pattern={\"[0-9]*\"}\r\n                       inputMode={\"decimal\"}\r\n                       placeholder={'0'}\r\n                       style={{width: 16*(value.toString().length+1)}}\r\n                       onChange={(e)=>setValue(p=>e.target.value.length <=7 ? e.target.value : p)}\r\n                       onFocus={()=>{value == 0 && setValue('')}}\r\n                       onBlur={()=>{value == '' && setValue(0)}}\r\n                />\r\n                <span>₽</span>\r\n            </div>\r\n        </div>\r\n        <div className={styles.buttons}>\r\n            <Button className={styles.income} onClick={onAddEarned}><i className={'fas fa-plus'}/><span>Earned</span></Button>\r\n            <Button className={styles.spent}  onClick={onAddSpent}><i className={'fas fa-minus'}/><span>Spent</span></Button>\r\n\r\n        </div>\r\n    </div>\r\n}\r\nexport default Main\r\n\r\nconst Button = (props) => {\r\n    return <button className={styles.button+' '+props?.className || ''} onClick={props.onClick} style={props.style}>\r\n        {props.children}\r\n    </button>\r\n}\r\n\r\nexport const MonthOverview = ({getTotal, fixedMode=false, day}) => {\r\n    const [mode, setMode] = useState(fixedMode === false ? WEEK : fixedMode)\r\n    const [values, setValues] = useState({earned: 0, spent: 0, profit: 0})\r\n    const {days} = useContext(DataContext)\r\n\r\n\r\n    const _date = day || moment().format(FORMAT)\r\n    useEffect(()=>{\r\n        setValues({\r\n            earned: getTotal(mode, INCOME, _date),\r\n            spent: getTotal(mode, SPENT, _date),\r\n            profit: getTotal(mode, PROFIT, _date),\r\n        })\r\n        console.log('render')\r\n    },[mode, days])\r\n\r\n    return <>{fixedMode === false && <div className={styles.modeSelector}>\r\n        <Button className={styles.mode}\r\n                style={{backgroundColor: mode === DAY ? '#00AFB9' : '#efefef', color: mode === DAY ? 'white' : 'black'}}\r\n                onClick={() => setMode(DAY)}>Day</Button>\r\n        <Button className={styles.mode} style={{\r\n            backgroundColor: mode === WEEK ? '#00AFB9' : '#efefef',\r\n            color: mode === WEEK ? 'white' : 'black'\r\n        }} onClick={() => setMode(WEEK)}>Week</Button>\r\n        <Button className={styles.mode} style={{\r\n            backgroundColor: mode === MONTH ? '#00AFB9' : '#efefef',\r\n            color: mode === MONTH ? 'white' : 'black'\r\n        }} onClick={() => setMode(MONTH)}>Month</Button>\r\n        <Button className={styles.mode} style={{\r\n            backgroundColor: mode === YEAR ? '#00AFB9' : '#efefef',\r\n            color: mode === YEAR ? 'white' : 'black'\r\n        }} onClick={() => setMode(YEAR)}>Year</Button>\r\n    </div>}\r\n    <div className={styles.monthWrapper}>\r\n        <div className={styles.monthItem+' '+styles.monthIncome}>\r\n            <div className={styles.monthLabel}>Earned</div>\r\n            <div className={styles.monthAmount}>{rub(values.earned)}</div>\r\n        </div>\r\n        <div className={styles.monthItem+' '+styles.monthSpent}>\r\n            <div className={styles.monthLabel}>Spent</div>\r\n            <div className={styles.monthAmount}>{rub(values.spent)}</div>\r\n        </div>\r\n        <div className={styles.monthItem+' '+styles.monthProfit}>\r\n            <div className={styles.monthLabel}>Profit</div>\r\n            <div className={styles.monthAmount}>{rub(values.profit)}</div>\r\n        </div>\r\n    </div>\r\n        {mode === DAY && <DayView day={day}/>}\r\n        {mode === WEEK && <WeekView day={day}/>}\r\n    </>\r\n}\r\n\r\nexport const DayView = ({day = moment().format(FORMAT)}) => {\r\n    const {getHistory, days, deleteTransaction} = useContext(DataContext)\r\n    const [history, setHistory] = useState([])\r\n    useEffect(()=>{\r\n        setHistory(getHistory(day))\r\n    }, [day, days])\r\n\r\n    if (history.length === 0) return <div className={styles.noData}>\r\n        No data tracked for this day.\r\n    </div>\r\n    return <div className={styles.dayViewArea}>\r\n\r\n    <div className={styles.dayView}>\r\n{/*\r\n        <div className={styles.historyTitle}>{day === moment().format(FORMAT) ? 'Today\\'s history:' : 'History of '+day.replaceAll('-','.')}</div>\r\n*/}\r\n        {history.map(({type, amount, comment}, index)=><HistoryItem comment={comment} amount={amount} type={type} id={index} key={index} onDelete={()=>{deleteTransaction(day, index)}}  isLast={index == history.length-1}/>)}\r\n    </div>\r\n    </div>\r\n}\r\nconst HistoryItem = ({type = INCOME, amount = 0, comment = '', onDelete=()=>{}, isLast = false}) => {\r\n    return <div className={styles.itemWrapper} style={isLast ? {borderBottom: 'none'} : {}}>\r\n        <div className={styles.itemValue} style={type === INCOME ? {color: '#00AFB9'} : {color: '#F07167'}}>{['+ ','- '][type]}{rub(amount)}</div>\r\n        <div className={styles.itemButtons} onClick={onDelete}><i className={'fas fa-times'}/></div>\r\n        {comment && <div className={styles.itemComment}>{comment}</div>}\r\n    </div>\r\n}\r\n","import React from 'react'\nimport Main from \"./components/screens/Main\";\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport {DataContext, useDataContext} from \"./data/DataContext\";\n\nfunction App() {\n\n  const userData = useDataContext()\n  return (\n      <DataContext.Provider value={userData}>\n        <Main/>\n      </DataContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"weekViewWrapper\":\"week_weekViewWrapper__1sIi8\",\"weekDayWrapper\":\"week_weekDayWrapper__3YO5D\",\"last\":\"week_last__WXZnY\",\"weekDayName\":\"week_weekDayName__12Uy0\",\"weekDayDate\":\"week_weekDayDate__1Ny7r\",\"weekDayProfit\":\"week_weekDayProfit__2MfcI\",\"dayDetailsWrapper\":\"week_dayDetailsWrapper__3HQBo\",\"dayDetailsTitle\":\"week_dayDetailsTitle__3lBGc\",\"buttonArea\":\"week_buttonArea__3adZE\",\"addButton\":\"week_addButton__30YVi\"};"],"sourceRoot":""}