{"version":3,"sources":["components/WeekView/week.module.css","components/common/PopUp.module.css","components/screens/main.module.css","utils/utils.js","api/API.js","data/DataContext.js","utils/useEscape.js","assets/preloader.svg","components/common/PopUp.js","components/WeekView/WeekView.js","components/screens/Main.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","Enum","length","Array","map","_","i","rub","value","axios","_axios","create","baseURL","withCredentials","fetchData","user","get","then","r","data","setData","put","post","DAY","WEEK","MONTH","YEAR","ALL","INCOME","SPENT","PROFIT","FORMAT","getDays","date","interval","unitOfTime","_date","moment","_Start","clone","startOf","_End","endOf","days","day","push","format","add","contextShape","getTotal","addTransaction","getHistory","getDaysOfRange","isFetching","DataContext","React","createContext","useEscape","className","callback","onOuterClick","e","target","document","querySelector","onEscape","keyCode","containerRef","useRef","useEffect","el","current","addEventListener","removeEventListener","PopUp","onClose","props","useState","unmounting","setUnmounting","s","wrapper","setTimeout","fadeIn","useSpring","opacity","Number","from","slideUp","marginBottom","div","style","ref","children","DayDetails","isAddModalShown","setAddModalShown","styles","dayDetailsWrapper","zIndex","buttonArea","addButton","onClick","WeekDay","weekday","profit","isLast","weekDayWrapper","border","weekDayName","weekDayDate","weekDayProfit","color","undefined","WeekView","useContext","dayDetails","setDayDetails","weekViewWrapper","index","Loading","loading","src","preloader","width","height","Footer","container","animBackdrop","setModalShown","isModalShown","popup","bottom","backdrop","pointerEvents","button","animWrapper","footer","v","Header","header","title","AddCard","input","setValue","cardWrapper","inputArea","focus","type","autoFocus","pattern","inputMode","placeholder","toString","onChange","p","onFocus","onBlur","buttons","income","parseFloat","spent","Main","fetch","mainGrid","Button","MonthOverview","mode","setMode","earned","values","setValues","console","log","modeSelector","backgroundColor","monthWrapper","monthItem","monthIncome","monthLabel","monthAmount","monthSpent","monthProfit","DayView","deleteTransaction","history","setHistory","dayView","historyTitle","replaceAll","amount","comment","id","onDelete","HistoryItem","itemWrapper","itemValue","itemButtons","itemComment","App","userData","setDays","setFetching","a","newDays","pushDays","_transaction","filter","isNewUser","payload","localStorage","getItem","_user","res","Object","keys","reduce","accum","currentKey","resp","name","setItem","useDataContext","Provider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.91aac597.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"weekViewWrapper\":\"week_weekViewWrapper__1sIi8\",\"weekDayWrapper\":\"week_weekDayWrapper__3YO5D\",\"last\":\"week_last__WXZnY\",\"weekDayName\":\"week_weekDayName__12Uy0\",\"weekDayDate\":\"week_weekDayDate__1Ny7r\",\"weekDayProfit\":\"week_weekDayProfit__2MfcI\",\"dayDetailsWrapper\":\"week_dayDetailsWrapper__3HQBo\",\"buttonArea\":\"week_buttonArea__3adZE\",\"addButton\":\"week_addButton__30YVi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"PopUp_wrapper__2HU00\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"main_wrapper__-8n4U\",\"loading\":\"main_loading__3uRqN\",\"mainGrid\":\"main_mainGrid__nl8MA\",\"header\":\"main_header__2mcmx\",\"footer\":\"main_footer__2i-vV\",\"title\":\"main_title__12jnD\",\"section\":\"main_section__p5kGc\",\"cardWrapper\":\"main_cardWrapper__3aawm\",\"animWrapper\":\"main_animWrapper__3j1Vd\",\"animBackdrop\":\"main_animBackdrop__18dN9\",\"inputArea\":\"main_inputArea__YfEHI\",\"input\":\"main_input__3QIpX\",\"buttons\":\"main_buttons__1Wd-5\",\"button\":\"main_button__2EjwP\",\"spent\":\"main_spent__1UrWt\",\"income\":\"main_income__sUZZJ\",\"monthWrapper\":\"main_monthWrapper__TcULD\",\"monthItem\":\"main_monthItem__1oBNi\",\"monthSpent\":\"main_monthSpent__1K_Qr\",\"monthIncome\":\"main_monthIncome__3208A\",\"monthProfit\":\"main_monthProfit__xffan\",\"monthAmount\":\"main_monthAmount__3jZa6\",\"monthLabel\":\"main_monthLabel__1O9B3\",\"monthTitle\":\"main_monthTitle__1fTeO\",\"modeSelector\":\"main_modeSelector__3hY4y\",\"mode\":\"main_mode__3o9f-\",\"itemWrapper\":\"main_itemWrapper__25RpC\",\"itemButtons\":\"main_itemButtons__282Sx\",\"itemValue\":\"main_itemValue__zgIpG\",\"itemComment\":\"main_itemComment__ZoEYt\",\"dayView\":\"main_dayView__1k4tz\",\"historyTitle\":\"main_historyTitle__A9SoH\"};","export const Enum = (length) => [...Array(length)].map((_, i) => i);\r\n\r\nexport function polymorph() {\r\n    var len2func = [];\r\n    for(var i=0; i<arguments.length; i++)\r\n        if(typeof(arguments[i]) == \"function\")\r\n            len2func[arguments[i].length] = arguments[i];\r\n    return function() {\r\n        return len2func[arguments.length].apply(this, arguments);\r\n    }\r\n}\r\n\r\nexport const rub = (value) => `${value} ₽`\r\n","import _axios from \"axios\";\r\nconst axios = _axios.create({\r\n    baseURL: \"https://smart-money-c44ee-default-rtdb.firebaseio.com/\",\r\n    withCredentials: false\r\n})\r\n\r\nexport const fetchData = (user) => axios.get(`/db/${user}.json`).then(r=>r.data)\r\n\r\nexport const setData = (user, data) => {\r\n    if (user) {\r\n        return axios.put(`/db/${user}.json`, data).then(r=>r.data)\r\n    } else {\r\n        return axios.post('db.json', data).then(r=>r.data)\r\n    }\r\n}\r\n","import React, {useState} from 'react'\r\nimport {Enum} from \"../utils/utils\";\r\nimport moment from \"moment\";\r\nimport {fetchData, setData} from \"../api/API\";\r\n\r\nexport const [DAY, WEEK, MONTH, YEAR, ALL] = Enum(5)\r\nexport const [INCOME, SPENT, PROFIT] = Enum(3)\r\n\r\nexport const FORMAT = \"DD-MM-YYYY\"\r\n\r\n\r\nconst getDays = (date, interval = DAY) => { //date: \"DD-MM-YYY\"\r\n    let unitOfTime = \"day\"\r\n    switch (interval) {\r\n        case DAY:\r\n            unitOfTime = \"day\"\r\n            break\r\n        case WEEK:\r\n            unitOfTime = \"isoWeek\"\r\n            break\r\n        case MONTH:\r\n            unitOfTime = \"month\"\r\n            break\r\n        case YEAR:\r\n            unitOfTime = \"year\"\r\n            break\r\n    }\r\n    const _date = moment(date, FORMAT)\r\n    const _Start = _date.clone().startOf(unitOfTime)\r\n    const _End = _date.clone().endOf(unitOfTime)\r\n\r\n    let days = [];\r\n    let day = _Start;\r\n\r\n    while (day <= _End) {\r\n        days.push(moment(day, FORMAT).format(FORMAT));\r\n        day = day.clone().add(1, 'd');\r\n    }\r\n    return days // [\"DD-MM-YYYY\"]\r\n}\r\nconst contextShape = {\r\n    days: {},\r\n    getTotal: (interval = ALL, type = INCOME, date = '01-01-2021')=>0,\r\n    addTransaction: (type = INCOME, amount = 0, comment = '', day = '01-01-2021')=>{},\r\n    getHistory: (day = '01-01-2021') => [],\r\n    getDaysOfRange: (day = moment().format(FORMAT), range = WEEK) => [],\r\n    isFetching: false,\r\n}\r\nexport const DataContext = React.createContext(contextShape)\r\n\r\n/*export const useDataContext = () => {\r\n\r\n    const [userData, setUserData] = useState(contextShape)\r\n\r\n    useEffect(()=>{\r\n        setUserData(new User(contextShape.days))\r\n    },[])\r\n    debugger\r\n\r\n\r\n    return userData\r\n}*/\r\n\r\nexport const useDataContext = () => {\r\n    const [days, setDays] = useState({})\r\n    const [isFetching, setFetching] = useState(false)\r\n\r\n    const getTotal = (interval = ALL, type = INCOME, date = '01-01-2021') => {\r\n        const possibleDays = interval === ALL ? Object.keys(days) : getDays(date, interval)\r\n        return possibleDays.reduce((accum, currentKey) => {\r\n            if (days?.[currentKey]) {\r\n                const day = days[currentKey]\r\n                switch (type) {\r\n                    case INCOME:\r\n                        return accum + (day.income || 0)\r\n                    case SPENT:\r\n                        return accum + (day.spent || 0)\r\n                    case PROFIT:\r\n                        return accum + ((day.income || 0) - (day.spent || 0))\r\n                }\r\n            } else\r\n                return accum\r\n        }, 0)\r\n    }\r\n    const getDaysOfRange = (date=moment().format(FORMAT), range=WEEK) => getDays(date, range)\r\n    const addTransaction = async (type = INCOME, amount = 0, comment = '', day=moment().format(FORMAT))=>{\r\n        const newDays = {\r\n            ...days,\r\n            [day]: {\r\n                ...days?.[day],\r\n                income: (days?.[day]?.income || 0) + amount*Number(type === INCOME),\r\n                spent:  (days?.[day]?.spent || 0) + amount*Number(type === SPENT),\r\n                history: [\r\n                    ...(days?.[day]?.history || []),\r\n                    {\r\n                        type: type,\r\n                        amount: amount,\r\n                        comment: comment\r\n                    },\r\n                ],\r\n            },\r\n        }\r\n        setDays(newDays)\r\n        return await pushDays(false, newDays)\r\n    }\r\n\r\n    const getHistory = (day) => {\r\n        return days[day]?.history || []\r\n    }\r\n\r\n    const deleteTransaction = async (day=moment().format(FORMAT), index=-1) => {\r\n        const _transaction = days?.[day]?.history?.[index] || {amount: 0, type: INCOME}\r\n\r\n        const newDays = {\r\n            ...days,\r\n            [day]: {\r\n                ...days?.[day],\r\n                income: days?.[day]?.income - (_transaction.amount * Number(_transaction.type === INCOME)),\r\n                spent: days?.[day]?.spent - (_transaction.amount * Number(_transaction.type === SPENT)),\r\n                history: [\r\n                    ...(days?.[day]?.history || []).filter((_,i)=> i !== index),\r\n                ]\r\n            }\r\n        }\r\n        setDays(newDays)\r\n        return await pushDays(false, newDays)\r\n    }\r\n\r\n    const pushDays = async (isNewUser=false, payload) => {\r\n        setFetching(true)\r\n        const user = localStorage.getItem('userId')\r\n        const _user = isNewUser ? false : (user || false)\r\n            const res =  await setData(_user, payload || days)\r\n        setFetching(false)\r\n        return res\r\n    }\r\n    const fetch = async () => {\r\n        setFetching(true)\r\n        const user = localStorage.getItem('userId')\r\n        const data = await fetchData(user)\r\n        if (!data) {\r\n           const resp =  await pushDays(true)\r\n            resp?.name && localStorage.setItem('userId', resp.name)\r\n\r\n        }\r\n        else {\r\n            setDays(data)\r\n        }\r\n        setFetching(false)\r\n    }\r\n    return {days, addTransaction, getTotal, deleteTransaction, getHistory, fetch, isFetching, getDaysOfRange}\r\n}\r\n","import {useEffect, useRef} from \"react\";\r\n\r\nconst useEscape = (className, callback) => {\r\n    const onOuterClick = (e) => {\r\n        if (e.target === document.querySelector(`.${className}`)) {\r\n            callback();\r\n        }\r\n    };\r\n\r\n    const onEscape = (e) => {\r\n        if (e.keyCode === 27) callback();\r\n    };\r\n\r\n    const containerRef = useRef(null);\r\n    useEffect(() => {\r\n        if (!containerRef) return;\r\n        const el = containerRef.current;\r\n        el.addEventListener('click', onOuterClick);\r\n        document.addEventListener('keydown', onEscape);\r\n        return () => {\r\n            el.removeEventListener('click', onOuterClick);\r\n            document.removeEventListener('keydown', onEscape);\r\n        }\r\n    }, [containerRef]);\r\n\r\n    return containerRef;\r\n};\r\n\r\nexport default useEscape;\r\n","export default __webpack_public_path__ + \"static/media/preloader.5a0dcb1d.svg\";","import React, {useEffect, useState} from 'react'\r\nimport s from './PopUp.module.css'\r\nimport useEscape from \"../../utils/useEscape\";\r\nimport {animated, useSpring} from 'react-spring'\r\n\r\nconst PopUp = ({onClose=()=>{}, ...props}) => {\r\n\r\n    const [unmounting, setUnmounting] = useState(false)\r\n\r\n    const _onClose = () => {\r\n        setUnmounting(true)\r\n        setTimeout(()=>{\r\n            onClose()\r\n        }, 300)\r\n    }\r\n\r\n    const containerRef = useEscape(s.wrapper, _onClose);\r\n\r\n    const fadeIn = useSpring({opacity: Number(!unmounting), from: {opacity: Number(unmounting)}})\r\n    const slideUp = useSpring({marginBottom: Number(unmounting) * -100, from: {marginBottom: Number(!unmounting) * -100}})\r\n    return <animated.div style={fadeIn} className={s.wrapper} ref={containerRef}>\r\n        <animated.div style={slideUp}>\r\n            {props.children}\r\n        </animated.div>\r\n    </animated.div>\r\n}\r\n\r\nexport default PopUp\r\n","import moment from \"moment\";\r\nimport {DataContext, DAY, FORMAT, PROFIT, WEEK} from \"../../data/DataContext\";\r\nimport React, {useContext, useState} from \"react\";\r\nimport styles from \"./week.module.css\";\r\nimport {AddCard, DayView} from \"../screens/Main\";\r\nimport PopUp from \"../common/PopUp\";\r\nimport {rub} from \"../../utils/utils\";\r\n\r\nconst WeekView = ({day = moment().format(FORMAT)}) => {\r\n    const {getDaysOfRange, getTotal} = useContext(DataContext)\r\n    const [dayDetails, setDayDetails] = useState(false)\r\n    const days = getDaysOfRange(day, WEEK)\r\n    return <div className={styles.weekViewWrapper}>\r\n        {dayDetails && <PopUp onClose={()=>setDayDetails(false)}><DayDetails date={dayDetails}/></PopUp>}\r\n        {days.map((date, index)=>{\r\n            return <WeekDay date={moment(date, FORMAT).format('DD')}\r\n                            weekday={moment(date, FORMAT).format('ddd')}\r\n                            profit={getTotal(DAY, PROFIT, date)}\r\n                            onClick={()=>setDayDetails(date)}\r\n                            isLast={index == days.length-1}\r\n            />\r\n        })}\r\n    </div>\r\n\r\n}\r\n\r\nconst DayDetails = ({date}) => {\r\n    const [isAddModalShown, setAddModalShown] = useState(false)\r\n    return <div className={styles.dayDetailsWrapper}>\r\n    <DayView day={date}/>\r\n        {isAddModalShown && <PopUp zIndex={1100} onClose={()=>setAddModalShown(false)}><AddCard date={date} onClose={()=>setAddModalShown(false)}/></PopUp>}\r\n    <div className={styles.buttonArea}>\r\n        <div className={styles.addButton} onClick={()=>setAddModalShown(true)}>\r\n            <i className={'fas fa-plus'}/><span>Add transaction for {moment(date, FORMAT).format('ddd DD/MM')}</span>\r\n        </div>\r\n    </div>\r\n    </div>\r\n    }\r\n\r\nconst WeekDay = ({date, weekday, profit, onClick = () => {}, isLast = false}) => {\r\n\r\n    return <div className={styles.weekDayWrapper} style={isLast ? {border: 'none'} : {}} onClick={onClick}>\r\n        <div className={styles.weekDayName}>{weekday}</div>\r\n        <div className={styles.weekDayDate}>{date}</div>\r\n        <div className={styles.weekDayProfit} style={{color: profit >= 0 ? '#0081A7' : '#F07167'}}>{profit !== undefined ? ((profit > 0 ? '+' : '') + rub(profit)): ''}</div>\r\n    </div>\r\n}\r\n\r\nexport default WeekView\r\n","import React, {useRef, useState, useEffect, useContext} from 'react'\r\nimport styles from './main.module.css'\r\nimport Div100vh from \"react-div-100vh\";\r\nimport {DAY, WEEK, MONTH, YEAR, PROFIT, INCOME, FORMAT, SPENT} from \"../../data/DataContext\";\r\nimport {rub} from \"../../utils/utils\";\r\nimport {DataContext} from \"../../data/DataContext\";\r\nimport moment from \"moment\";\r\nimport {useSpring, animated} from 'react-spring'\r\nimport useEscape from \"../../utils/useEscape\";\r\nimport preloader from '../../assets/preloader.svg'\r\nimport WeekView from \"../WeekView/WeekView\";\r\n\r\nconst Loading = () => {\r\n    return <div className={styles.loading}><img src={preloader} width={20} height={20}/></div>\r\n}\r\nconst Main = () => {\r\n    const {addTransaction, days, getTotal, fetch, isFetching} = useContext(DataContext)\r\n    useEffect(()=>{\r\n        fetch()\r\n    },[])\r\n\r\n    return <Div100vh className={styles.wrapper}>\r\n        {isFetching && <Loading/>}\r\n        <div className={styles.mainGrid}>\r\n            <Header/>\r\n            <MonthOverview getTotal={getTotal}/>\r\n            <div style={{height: \"60px\"}}/>\r\n            <Footer/>\r\n        </div>\r\n    </Div100vh>\r\n}\r\n\r\nconst Footer = () => {\r\n    const container = useEscape(styles.animBackdrop, ()=>setModalShown(false))\r\n    const [isModalShown, setModalShown] = useState(false)\r\n    const popup = useSpring(isModalShown ? {bottom: 16} : {bottom: -200})\r\n    const backdrop = useSpring(isModalShown ? {opacity: 1, pointerEvents: \"all\"} : {opacity: 0, pointerEvents: \"none\"})\r\n    const button = useSpring(!isModalShown ? {bottom: 0} : {bottom: -60})\r\n    return <>\r\n        <animated.div style={backdrop} className={styles.animBackdrop} ref={container}/>\r\n        <animated.div style={popup} className={styles.animWrapper}>{isModalShown && <AddCard onClose={() => setModalShown(false)}/>}</animated.div>\r\n        <animated.div style={button} className={styles.animWrapper}><div className={styles.footer} onClick={()=>setModalShown(v=>!v)}>\r\n        <i className={'fas fa-plus'}/><span>Add transaction</span>\r\n        </div>\r\n        </animated.div>\r\n    </>\r\n}\r\nconst Header = () => {\r\n    return <div className={styles.header}>\r\n        <div className={styles.title}>\r\n        <b>Money</b>App\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport const AddCard = ({onClose=()=>{}, date=moment().format(FORMAT)}) => {\r\n    const input = useRef()\r\n    const [value, setValue] = useState('')\r\n    const {addTransaction} = useContext(DataContext)\r\n\r\n    const onAddEarned = () => {\r\n        if (value != '' && value != 0) {\r\n            addTransaction(INCOME, parseFloat(value.toString()), '', date)\r\n            onClose()\r\n        }\r\n        setValue('')\r\n    }\r\n\r\n    const onAddSpent = () => {\r\n        if (value != '' && value != 0) {\r\n            addTransaction(SPENT, parseFloat(value.toString()), '', date)\r\n            onClose()\r\n        }\r\n        setValue('')\r\n    }\r\n\r\n    const onInputFocus = () => {\r\n        if (input.current)\r\n            input.current.focus()\r\n    }\r\n\r\n    return <div className={styles.cardWrapper}>\r\n        <div className={styles.inputArea} onClick={onInputFocus}>\r\n            <div className={styles.input}>\r\n                <input value={value}\r\n                       type={\"number\"}\r\n                       ref={input}\r\n                       autoFocus={true}\r\n                       pattern={\"[0-9]*\"}\r\n                       inputMode={\"decimal\"}\r\n                       placeholder={'0'}\r\n                       style={{width: 16*(value.toString().length+1)}}\r\n                       onChange={(e)=>setValue(p=>e.target.value.length <=7 ? e.target.value : p)}\r\n                       onFocus={()=>{value == 0 && setValue('')}}\r\n                       onBlur={()=>{value == '' && setValue(0)}}\r\n                />\r\n                <span>₽</span>\r\n            </div>\r\n        </div>\r\n        <div className={styles.buttons}>\r\n            <Button className={styles.income} onClick={onAddEarned}><i className={'fas fa-plus'}/><span>Earned</span></Button>\r\n            <Button className={styles.spent}  onClick={onAddSpent}><i className={'fas fa-minus'}/><span>Spent</span></Button>\r\n\r\n        </div>\r\n    </div>\r\n}\r\nexport default Main\r\n\r\nconst Button = (props) => {\r\n    return <button className={styles.button+' '+props?.className || ''} onClick={props.onClick} style={props.style}>\r\n        {props.children}\r\n    </button>\r\n}\r\n\r\nconst MonthOverview = ({getTotal}) => {\r\n    const [mode, setMode] = useState(WEEK)\r\n    const [values, setValues] = useState({earned: 0, spent: 0, profit: 0})\r\n    const {days} = useContext(DataContext)\r\n\r\n\r\n\r\n    useEffect(()=>{\r\n        setValues({\r\n            earned: getTotal(mode, INCOME, moment().format(FORMAT)),\r\n            spent: getTotal(mode, SPENT, moment().format(FORMAT)),\r\n            profit: getTotal(mode, PROFIT, moment().format(FORMAT)),\r\n        })\r\n        console.log('render')\r\n    },[mode, days])\r\n\r\n    return <><div className={styles.modeSelector}>\r\n        <Button className={styles.mode} style={{backgroundColor: mode == DAY ? '#00AFB9' : '#efefef', color: mode == DAY ? 'white' : 'black'}} onClick={()=>setMode(DAY)}>Day</Button>\r\n        <Button className={styles.mode} style={{backgroundColor: mode == WEEK ? '#00AFB9' : '#efefef', color: mode == WEEK ? 'white' : 'black'}} onClick={()=>setMode(WEEK)}>Week</Button>\r\n        <Button className={styles.mode} style={{backgroundColor: mode == MONTH ? '#00AFB9' : '#efefef', color: mode == MONTH ? 'white' : 'black'}} onClick={()=>setMode(MONTH)}>Month</Button>\r\n        <Button className={styles.mode} style={{backgroundColor: mode == YEAR ? '#00AFB9' : '#efefef', color: mode == YEAR ? 'white' : 'black'}} onClick={()=>setMode(YEAR)}>Year</Button>\r\n    </div>\r\n    <div className={styles.monthWrapper}>\r\n        <div className={styles.monthItem+' '+styles.monthIncome}>\r\n            <div className={styles.monthLabel}>Earned</div>\r\n            <div className={styles.monthAmount}>{rub(values.earned)}</div>\r\n        </div>\r\n        <div className={styles.monthItem+' '+styles.monthSpent}>\r\n            <div className={styles.monthLabel}>Spent</div>\r\n            <div className={styles.monthAmount}>{rub(values.spent)}</div>\r\n        </div>\r\n        <div className={styles.monthItem+' '+styles.monthProfit}>\r\n            <div className={styles.monthLabel}>Profit</div>\r\n            <div className={styles.monthAmount}>{rub(values.profit)}</div>\r\n        </div>\r\n    </div>\r\n        {mode === DAY && <DayView/>}\r\n        {mode === WEEK && <WeekView/>}\r\n    </>\r\n}\r\n\r\nexport const DayView = ({day = moment().format(FORMAT)}) => {\r\n    const {getHistory, days, deleteTransaction} = useContext(DataContext)\r\n    const [history, setHistory] = useState([])\r\n    useEffect(()=>{\r\n        setHistory(getHistory(day))\r\n    }, [day, days])\r\n\r\n    if (history.length == 0) return null\r\n    return <div className={styles.dayView}>\r\n        <div className={styles.historyTitle}>{day === moment().format(FORMAT) ? 'Today\\'s history:' : 'History of '+day.replaceAll('-','.')}</div>\r\n        {history.map(({type, amount, comment}, index)=><HistoryItem comment={comment} amount={amount} type={type} id={index} key={index} onDelete={()=>{deleteTransaction(day, index)}}/>)}\r\n    </div>\r\n}\r\nconst HistoryItem = ({type = INCOME, amount = 0, comment = '', onDelete=()=>{}}) => {\r\n    return <div className={styles.itemWrapper}>\r\n        <div className={styles.itemValue} style={type === INCOME ? {color: '#00AFB9'} : {color: '#F07167'}}>{['+ ','- '][type]}{rub(amount)}</div>\r\n        <div className={styles.itemButtons} onClick={onDelete}><i className={'fas fa-times'}/></div>\r\n        {comment && <div className={styles.itemComment}>{comment}</div>}\r\n    </div>\r\n}\r\n","import React from 'react'\nimport Main from \"./components/screens/Main\";\nimport '@fortawesome/fontawesome-free/css/all.css'\nimport {DataContext, useDataContext} from \"./data/DataContext\";\n\nfunction App() {\n\n  const userData = useDataContext()\n  return (\n      <DataContext.Provider value={userData}>\n        <Main/>\n      </DataContext.Provider>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport './index.css'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}